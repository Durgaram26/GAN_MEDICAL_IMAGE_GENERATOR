<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Advanced Model Trainer</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom styles -->
    <style>
      /* Custom gradient background animation */
      @keyframes gradientAnimation {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      
      .gradient-bg {
        background: linear-gradient(-45deg, #0f172a, #1e293b, #374151, #1e40af);
        background-size: 400% 400%;
        animation: gradientAnimation 15s ease infinite;
      }
      
      .glass-card {
        background-color: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      .nav-link {
        position: relative;
        transition: all 0.3s ease;
      }
      
      .nav-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 50%;
        background-color: #38bdf8;
        transition: all 0.3s ease;
        transform: translateX(-50%);
      }
      
      .nav-link:hover::after {
        width: 80%;
      }
      
      .active-link {
        color: white;
        font-weight: 600;
      }
      
      .active-link::after {
        width: 80%;
      }
    </style>
  </head>
  <body class="gradient-bg min-h-screen">
    <nav class="bg-gray-900 shadow-lg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center">
            <a href="{{ url_for('index') }}" class="flex items-center">
              <svg class="h-8 w-8 text-blue-400" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 4.75L4.75 8.25L12 11.75L19.25 8.25L12 4.75Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4.75 15.75L12 19.25L19.25 15.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4.75 12L12 15.5L19.25 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="ml-2 text-white font-bold text-xl">Model Trainer</span>
            </a>
            <div class="ml-10 flex items-baseline space-x-4">
              <a href="{{ url_for('data_manager') }}" class="nav-link flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">
                <svg class="h-5 w-5 mr-2 text-blue-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 7h18M3 12h18m-9 5h9"></path>
                </svg>
                Data Manager
              </a>
              <a href="{{ url_for('train_model_route') }}" class="nav-link flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">
                <svg class="h-5 w-5 mr-2 text-indigo-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M14 6.5L17.5 10L14 13.5M9 17.5L5.5 14L9 10.5"></path>
                </svg>
                Train Model
              </a>
              <a href="{{ url_for('generate_images') }}" class="nav-link flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">
                <svg class="h-5 w-5 mr-2 text-purple-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12L20.25 12M3.75 12L4.5 12M12 4.5V3.75M12 20.25V19.5M18.364 18.364L18.894 18.894M5.106 5.106L5.636 5.636M18.364 5.636L18.894 5.106M5.106 18.894L5.636 18.364"></path>
                </svg>
                Generate Images
              </a>
              <a href="{{ url_for('upscale') }}" class="nav-link flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">
                <svg class="h-5 w-5 mr-2 text-blue-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 7V5C3 3.89543 3.89543 3 5 3H7M17 3H19C20.1046 3 21 3.89543 21 5V7M21 17V19C21 20.1046 20.1046 21 19 21H17M7 21H5C3.89543 21 3 20.1046 3 19V17"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12L9.01 12M12 15L12.01 15M15 12L15.01 12M12 9L12.01 9"></path>
                </svg>
                Upscale
              </a>
              <a href="{{ url_for('model_analysis') }}" class="nav-link flex items-center text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">
                <svg class="h-5 w-5 mr-2 text-purple-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 17L21 17M9 12L21 12M9 7L21 7"></path>
                  <path fill="currentColor" d="M4.5 17C5.32843 17 6 16.3284 6 15.5C6 14.6716 5.32843 14 4.5 14C3.67157 14 3 14.6716 3 15.5C3 16.3284 3.67157 17 4.5 17Z"></path>
                  <path fill="currentColor" d="M4.5 7C5.32843 7 6 6.32843 6 5.5C6 4.67157 5.32843 4 4.5 4C3.67157 4 3 4.67157 3 5.5C3 6.32843 3.67157 7 4.5 7Z"></path>
                  <path fill="currentColor" d="M4.5 12C5.32843 12 6 11.3284 6 10.5C6 9.67157 5.32843 9 4.5 9C3.67157 9 3 9.67157 3 10.5C3 11.3284 3.67157 12 4.5 12Z"></path>
                </svg>
                Analysis
              </a>
            </div>
          </div>
        </div>
      </div>
    </nav>
    
    <div class="max-w-7xl mx-auto py-8 sm:px-6 lg:px-8">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="mb-6">
            {% for category, message in messages %}
              {% if category == 'error' %}
                <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-3 rounded shadow-md" role="alert">
                  <p class="font-bold">Error</p>
                  <p>{{ message }}</p>
                </div>
              {% else %}
                <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-3 rounded shadow-md" role="alert">
                  <p class="font-bold">Info</p>
                  <p>{{ message }}</p>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      
      {% block content %}{% endblock %}
    </div>
    
    <!-- JavaScript to highlight the active navigation link -->
    <script>
      // Get current path
      const path = window.location.pathname;
      
      // Find the nav link that matches the current path
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
        if (link.getAttribute('href') === path) {
          link.classList.add('active-link');
        }
      });
    </script>
  </body>
</html>
